$(document).ready(function(){var c,d,a,b;$("#main").fitVids(),$(".author__urls-wrapper button").on("click",function(){$(".author__urls").toggleClass("is--visible"),$(".author__urls-wrapper").find("button").toggleClass("open")}),$(document).keyup(function(a){a.keyCode===27&&$(".initial-content").hasClass("is--hidden")&&($(".search-content").toggleClass("is--visible"),$(".initial-content").toggleClass("is--hidden"))}),$(".search__toggle").on("click",function(){$(".search-content").toggleClass("is--visible"),$(".initial-content").toggleClass("is--hidden"),setTimeout(function(){$(".search-content input").focus()},400)}),c=new SmoothScroll('a[href*="#"]',{offset:20,speed:400,speedAsDuration:!0,durationMax:500}),$("nav.toc").length>0&&(d=new Gumshoe("nav.toc a",{navClass:"active",contentClass:"active",nested:!1,nestedClass:"active",offset:20,reflow:!0,events:!0}));const e=function(d){var a=d.target,b={behavior:"auto",block:"nearest",inline:"start"},c=document.querySelector("aside.sidebar__right.sticky");if(!c)return;if(window.getComputedStyle(c).position!=="sticky")return;a.parentElement.classList.contains("toc__menu")&&a==a.parentElement.firstElementChild?document.querySelector("nav.toc header").scrollIntoView(b):a.scrollIntoView(b)};!window.chrome||document.addEventListener("gumshoeActivate",e),$("a[href$='.jpg'],a[href$='.jpeg'],a[href$='.JPG'],a[href$='.png'],a[href$='.gif'],a[href$='.webp']").has("> img").addClass("image-popup"),$(".image-popup").magnificPopup({type:"image",tLoading:"Loading image #%curr%...",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">Image #%curr%</a> could not be loaded.'},removalDelay:500,mainClass:"mfp-zoom-in",callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim")}},closeOnContentClick:!0,midClick:!0}),document.querySelector(".page__content").querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(function(b){var c=b.getAttribute("id"),a;c&&(a=document.createElement("a"),a.className="header-link",a.href="#"+c,a.innerHTML='<span class="sr-only">Permalink</span><i class="fas fa-link"></i>',a.title="Permalink",b.appendChild(a))}),a=function(c){var d,a,e,b;if(document.queryCommandEnabled("copy")&&navigator.clipboard)return navigator.clipboard.writeText(c).then(()=>!0,()=>console.error("Failed to copy text to clipboard: "+c)),!0;d=document.documentElement.getAttribute("dir")==="rtl",a=document.createElement("textarea"),a.className="clipboard-helper",a.style[d?"right":"left"]="-9999px",e=window.pageYOffset||document.documentElement.scrollTop,a.style.top=e+"px",a.setAttribute("readonly",""),a.value=c,document.body.appendChild(a),b=!0;try{a.select(),b=document.execCommand("copy")}catch(a){b=!1}return a.parentNode.removeChild(a),b},b=function(f){for(var b=f.target,c=b.nextElementSibling,d,e;c&&c.tagName.toLowerCase()!=="code";)c=c.nextElementSibling;if(!c)throw console.warn(b),new Error("No code block found for this button.");return d=c.querySelector("td.code, td.rouge-code"),d&&(c=d),e=a(c.innerText),b.focus(),e&&(b.interval!==null&&clearInterval(b.interval),b.classList.add('copied'),b.interval=setTimeout(function(){b.classList.remove('copied'),clearInterval(b.interval),b.interval=null},1500)),e},window.enable_copy_code_button&&document.querySelectorAll(".page__content pre.highlight > code").forEach(function(d,e,f){var c=d.parentElement,a;if(c.firstElementChild.tagName.toLowerCase()!=="code")return;a=document.createElement("button"),a.title="Copy to clipboard",a.className="clipboard-copy-button",a.innerHTML='<span class="sr-only">Copy code</span><i class="far fa-fw fa-copy"></i><i class="fas fa-fw fa-check copied"></i>',a.addEventListener("click",b),c.prepend(a)})})